(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/times-solid.042cb2ae.svg"},15:function(e,t,a){e.exports=a.p+"static/media/camera-solid.84c475e6.svg"},17:function(e,t,a){e.exports=a(34)},23:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),l=a(0),i=a.n(l),c=a(36),o=a(37),s=a(4),m=a(5),p=a(7),u=a(6),d=a(8),h=a(35),g=a(15),E=a.n(g),f=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).send=function(e){a.setState({loading:!0}),a.props.setImg([URL.createObjectURL(e.target.files[0]),e.target.files[0]]);var t=new FormData;t.append("image",e.target.files[0]),fetch(a.state.host+"/predict/",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.props.setPrediction(e.data)}).catch(function(e){console.error(e),a.setState({loading:!1,error:e})})};return a.state={loading:!1,host:"https://isthisapple.herokuapp.com",error:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{textAlign:"center"}},this.state.loading?i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{className:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)),i.a.createElement("div",null,"Loading...")):i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{id:"image",type:"file",accept:"image/*",capture:!0,onChange:this.send}),i.a.createElement("label",{htmlFor:"image"},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement("div",{className:"button"},i.a.createElement("img",{src:E.a,className:"camera-icon",alt:"Take a photo"})))),null!==this.state.error?i.a.createElement("div",{style:{color:"red",marginTop:"10px",height:0}},String(this.state.error)):null))}}]),t}(l.Component),v=(a(23),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).report=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"report-question report-cell"},"What is this?"),i.a.createElement("div",{className:"apple report-cell clickable",onClick:function(){return a.props.report("apple")}},"Apple"),i.a.createElement("div",{className:"not-apple report-cell clickable",onClick:function(){return a.props.report("not-apple")}},"Not apple"))},a.state={report:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.state.report?this.report():i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"prediction ".concat(this.props.prediction)},"apple"===this.props.prediction?"Apple":"Not apple"),i.a.createElement("div",{className:"circle-margin circle-margin-report"},i.a.createElement("div",{className:"report",onClick:function(){return e.setState({report:!0})}},i.a.createElement("p",{style:{margin:"auto",fontSize:"5vmin"}},"!"))))}}]),t}(l.Component)),b=(a(25),a(10)),j=a.n(b),O=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"result"},i.a.createElement("div",{className:"circle-margin circle-margin-close"},i.a.createElement("div",{className:"close",onClick:this.props.clear},i.a.createElement("img",{src:j.a,alt:"Close"}))),i.a.createElement("div",{className:"image-holder"},i.a.createElement("img",{src:this.props.img,className:"input-image",alt:"Your input"})),i.a.createElement("div",null,i.a.createElement(v,{prediction:0===this.props.prediction[0][0]?"apple":"not-apple",report:this.props.report})))}}]),t}(l.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).setPrediction=function(e){a.setState({prediction:e})},a.setImg=function(e){a.setState({img:e})},a.sendReport=function(e){var t=new FormData;t.append("label",e),t.append("image",a.state.img[1]),fetch("http://127.0.0.1:5000/report/",{mode:"no-cors",method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.props.setPrediction(e.data)}).catch(function(e){a.setImg(a.state.img)})},a.clearInput=function(){a.setState({prediction:null})},a.state={img:null,prediction:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,null===this.state.prediction?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{flex:1}},i.a.createElement("div",null,i.a.createElement("h1",{className:"title"},"Is this",i.a.createElement("br",null),"apple?")),i.a.createElement(f,{setPrediction:this.setPrediction,setImg:this.setImg}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"35px",marginBottom:0}},i.a.createElement(h.a,{to:"/apple-or-not/",style:{textDecoration:"none",color:"inherit"}},i.a.createElement("div",{className:"button-apple-or-not"},"\ud83c\udf4e or not")))),i.a.createElement("footer",{className:"footer"},i.a.createElement("p",null,"Made by\xa0",i.a.createElement("a",{href:"https://prd-ev.github.io"},"PRDev")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(O,{prediction:this.state.prediction,img:this.state.img[0],clear:this.clearInput,report:this.sendReport})))}}]),t}(l.Component),N=(a(29),function(e){function t(e){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement(h.a,{to:"/"},i.a.createElement("img",{src:j.a,alt:"Close",style:{position:"absolute",left:"5vmin",height:"34px",cursor:"pointer"}})),i.a.createElement("h1",{style:{fontSize:"inherit",padding:0,margin:0}},"\ud83c\udf4e or not?")),i.a.createElement("div",{className:"label-area"},i.a.createElement("h1",null,"W.I.P.")))}}]),t}(l.Component));a(31);r.a.render(i.a.createElement(c.a,null,i.a.createElement("div",{className:"container"},i.a.createElement(o.a,{exact:!0,path:"/",component:y}),i.a.createElement(o.a,{path:"/apple-or-not",component:N}))),document.getElementById("root"))}},[[17,2,1]]]);
//# sourceMappingURL=main.d2cb3995.chunk.js.map