{"version":3,"sources":["times-solid.svg","camera-solid.svg","components/SendImage.jsx","components/Report.jsx","components/Prediction.jsx","components/Index.jsx","components/AppleOrNot.jsx","index.js"],"names":["module","exports","__webpack_require__","p","SendImage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","send","event","setState","loading","setImg","URL","createObjectURL","target","files","formData","FormData","append","fetch","state","host","method","body","then","res","json","setPrediction","data","catch","error","console","react_default","a","createElement","style","textAlign","display","flexDirection","className","Fragment","id","type","accept","capture","onChange","htmlFor","alignItems","src","camera","alt","color","marginTop","height","String","Component","Report","report","onClick","_this2","concat","prediction","margin","fontSize","Prediction","clear","icon","img","Report_Report","Index","pred","sendReport","label","mode","clearInput","flex","SendImage_SendImage","marginBottom","Link","to","textDecoration","href","Prediction_Prediction","AppleOrNot","position","left","cursor","padding","ReactDOM","render","BrowserRouter","Route","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.d2cb3995.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/times-solid.042cb2ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera-solid.84c475e6.svg\";","import React, { Component } from \"react\";\n\nimport camera from \"../camera-solid.svg\";\n\nexport default class SendImage extends Component {\n  constructor(props) {\n    super(props);\n    let host = \"https://isthisapple.herokuapp.com\";\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\n      host = \"http://127.0.0.1:5000\";\n    }\n    this.state = {\n      loading: false,\n      host: host,\n      error: null\n    };\n  }\n\n  send = event => {\n    this.setState({ loading: true });\n    this.props.setImg([\n      URL.createObjectURL(event.target.files[0]),\n      event.target.files[0]\n    ]);\n    var formData = new FormData();\n    formData.append(\"image\", event.target.files[0]);\n    fetch(this.state.host + \"/predict/\", {\n      method: \"POST\",\n      body: formData\n    })\n      .then(res => res.json())\n      .then(body => {\n        this.props.setPrediction(body.data);\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({ loading: false, error: error });\n      });\n  };\n\n  render() {\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        {this.state.loading ? (\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div className=\"lds-ellipsis\">\n              <div />\n              <div />\n              <div />\n              <div />\n            </div>\n            <div>Loading...</div>\n          </div>\n        ) : (\n          <>\n            <input\n              id=\"image\"\n              type=\"file\"\n              accept=\"image/*\"\n              capture\n              onChange={this.send}\n            />\n            <label htmlFor=\"image\">\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\"\n                }}\n              >\n                <div className=\"button\">\n                  <img\n                    src={camera}\n                    className=\"camera-icon\"\n                    alt=\"Take a photo\"\n                  />\n                </div>\n              </div>\n            </label>\n            {this.state.error !== null ? (\n              <div style={{ color: \"red\", marginTop: \"10px\", height: 0 }}>\n                {String(this.state.error)}\n              </div>\n            ) : null}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport \"./report.css\";\n\nexport default class Report extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      report: false\n    };\n  }\n\n  report = () => {\n    return (\n      <>\n        <div className=\"report-question report-cell\">What is this?</div>\n        <div\n          className=\"apple report-cell clickable\"\n          onClick={() => this.props.report(\"apple\")}\n        >\n          Apple\n        </div>\n        <div\n          className=\"not-apple report-cell clickable\"\n          onClick={() => this.props.report(\"not-apple\")}\n        >\n          Not apple\n        </div>\n      </>\n    );\n  };\n\n  render() {\n    if (this.state.report) {\n      return this.report();\n    } else {\n      return (\n        <>\n          <div className={`prediction ${this.props.prediction}`}>\n            {this.props.prediction === \"apple\" ? \"Apple\" : \"Not apple\"}\n          </div>\n          <div className=\"circle-margin circle-margin-report\">\n            <div\n              className=\"report\"\n              onClick={() => this.setState({ report: true })}\n            >\n              <p style={{ margin: \"auto\", fontSize: \"5vmin\" }}>!</p>\n            </div>\n          </div>\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\n\nimport Report from \"./Report.jsx\";\nimport \"./prediction.css\";\nimport icon from \"../times-solid.svg\";\n\nexport default class Prediction extends Component {\n  render() {\n    return (\n      <div className=\"result\">\n        <div className=\"circle-margin circle-margin-close\">\n          <div className=\"close\" onClick={this.props.clear}>\n            <img src={icon} alt=\"Close\" />\n          </div>\n        </div>\n        <div className=\"image-holder\">\n          <img src={this.props.img} className=\"input-image\" alt=\"Your input\" />\n        </div>\n        <div>\n          <Report\n            prediction={\n              this.props.prediction[0][0] === 0 ? \"apple\" : \"not-apple\"\n            }\n            report={this.props.report}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SendImage from \"./SendImage.jsx\";\nimport Prediction from \"./Prediction.jsx\";\n\nexport default class Index extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      img: null,\n      prediction: null\n    };\n  }\n\n  setPrediction = pred => {\n    this.setState({\n      prediction: pred\n    });\n  };\n\n  setImg = img => {\n    this.setState({\n      img: img\n    });\n  };\n\n  sendReport = label => {\n    var formData = new FormData();\n    formData.append(\"label\", label);\n    formData.append(\"image\", this.state.img[1]);\n    fetch(\"http://127.0.0.1:5000/report/\", {\n      mode: \"no-cors\",\n      method: \"POST\",\n      body: formData\n    })\n      .then(res => res.json())\n      .then(body => {\n        this.props.setPrediction(body.data);\n      })\n      .catch(error => {\n        this.setImg(this.state.img);\n      });\n  };\n\n  clearInput = () => {\n    this.setState({\n      prediction: null\n    });\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.prediction === null ? (\n          <>\n            <div style={{ flex: 1 }}>\n              <div>\n                <h1 className=\"title\">\n                  Is this\n                  <br />\n                  apple?\n                </h1>\n              </div>\n              <SendImage\n                setPrediction={this.setPrediction}\n                setImg={this.setImg}\n              />\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  margin: \"35px\",\n                  marginBottom: 0\n                }}\n              >\n                <Link\n                  to=\"/apple-or-not/\"\n                  style={{ textDecoration: \"none\", color: \"inherit\" }}\n                >\n                  <div className=\"button-apple-or-not\">🍎 or not</div>\n                </Link>\n              </div>\n            </div>\n            <footer className=\"footer\">\n              <p>\n                Made by&nbsp;\n                <a href=\"https://prd-ev.github.io\">PRDev</a>\n              </p>\n            </footer>\n          </>\n        ) : (\n          <>\n            <Prediction\n              prediction={this.state.prediction}\n              img={this.state.img[0]}\n              clear={this.clearInput}\n              report={this.sendReport}\n            />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./apple-or-not.css\";\nimport icon from \"../times-solid.svg\";\n\nexport default class AppleOrNot extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <Link to=\"/\">\n            <img\n              src={icon}\n              alt=\"Close\"\n              style={{\n                position: \"absolute\",\n                left: \"5vmin\",\n                height: \"34px\",\n                cursor: \"pointer\"\n              }}\n            />\n          </Link>\n          <h1 style={{ fontSize: \"inherit\", padding: 0, margin: 0 }}>\n            🍎 or not?\n          </h1>\n        </div>\n        <div className=\"label-area\">\n          <h1>W.I.P.</h1>\n        </div>\n      </>\n    );\n  }\n}\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport Index from \"./components/Index.jsx\";\nimport AppleOrNot from \"./components/AppleOrNot.jsx\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <Router>\n    <div className=\"container\">\n      <Route exact path=\"/\" component={Index} />\n      <Route path=\"/apple-or-not\" component={AppleOrNot} />\n    </div>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}